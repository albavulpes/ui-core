{"version":3,"sources":["stores/auth/IdentityStore.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,OAAO,EAAC,MAAM,EAAE,MAAM,EAAE,QAAQ,EAAE,UAAU,EAAC,MAAM,wBAAwB,CAAC;AAC5E,OAAO,EAAE,EAAE,EAAC,OAAO,EAAC,MAAM,UAAU,CAAC;AACrC,OAAO,EAAC,WAAW,EAAC,MAAM,iCAAiC,CAAC;AAG5D;IAAmC,iCAAU;IAA7C;;IAoBA,CAAC;IAXS,qCAAa,GAAnB;;;;;4BAC2B,WAAM,IAAI,CAAC,WAAW,CAAC,EAAE,EAAE,EAAA;;wBAA5C,cAAc,GAAG,SAA2B;wBAElD,IAAI,CAAC,cAAc,CAAC,cAAc,CAAC,CAAC;;;;;KACvC;IAGO,sCAAc,GAAtB,UAAuB,QAAwB;QAC3C,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC,QAAQ,CAAC;QAClC,IAAI,CAAC,KAAK,GAAG,QAAQ,CAAC,KAAK,CAAC;IAChC,CAAC;IAbD;QADC,OAAO,EAAE;kCACG,WAAW;sDAAC;IAGzB;QADC,MAAM;;;;sDAKN;IAGD;QADC,QAAQ;;;;uDAIR;IAnBQ,aAAa;QADzB,MAAM;OACM,aAAa,CAoBzB;IAAD,oBAAC;CApBD,AAoBC,CApBkC,UAAU,GAoB5C;SApBY,aAAa;AAsB1B,EAAE,CAAC,OAAO,CAAC,eAAe,EAAE,aAAa,CAAC,CAAC","file":"IdentityStore.js","sourcesContent":["import {Action, Module, Mutation, VuexModule} from 'vuex-module-decorators';\r\nimport di, {Require} from '../../di';\r\nimport {AuthService} from '../../services/auth/AuthService';\r\n\r\n@Module\r\nexport class IdentityStore extends VuexModule {\r\n\r\n    UserName: string;\r\n    Email: string;\r\n\r\n    @Require()\r\n    AuthService: AuthService;\r\n\r\n    @Action\r\n    async fetchIdentity() {\r\n        const statusResponse = await this.AuthService.me();\r\n\r\n        this.updateIdentity(statusResponse);\r\n    }\r\n\r\n    @Mutation\r\n    private updateIdentity(identity: StatusResponse) {\r\n        this.UserName = identity.UserName;\r\n        this.Email = identity.Email;\r\n    }\r\n}\r\n\r\ndi.service('IdentityStore', IdentityStore);\r\n"]}