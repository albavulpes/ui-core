{"version":3,"sources":["api.ts"],"names":[],"mappings":"AAAA,OAAO,KAA0C,MAAM,OAAO,CAAC;AAC/D,OAAO,IAAI,MAAM,sBAAsB,CAAC;AACxC,OAAO,MAAM,MAAM,wBAAwB,CAAC;AAE5C,IAAM,eAAe,GAAG;IACpB,IAAI,MAAA;IACJ,MAAM,QAAA;CACT,CAAC;AAEF;IAGI,4BAAY,OAA4B;QACpC,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;QAEtC,IAAI,CAAC,uBAAuB,EAAE,CAAC;IACnC,CAAC;IAEO,oDAAuB,GAA/B;gCACa,YAAY;YACjB,MAAM,CAAC,cAAc,SAAO,YAAY,EAAE;gBACtC,GAAG;oBACC,OAAO,IAAI,IAAI,CAAC,UAAU,CAAC,YAAY,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;gBAC5D,CAAC;aACJ,CAAC,CAAC;QACP,CAAC;;QAND,KAAK,IAAI,YAAY,IAAI,eAAe;oBAA/B,YAAY;SAMpB;IACL,CAAC;IACL,yBAAC;AAAD,CAlBA,AAkBC,IAAA;AASD,MAAM,CAAC,IAAM,aAAa,GAAkB,kBAAyB,CAAC","file":"api.js","sourcesContent":["import axios, {AxiosInstance, AxiosRequestConfig} from 'axios';\r\nimport auth from './api/endpoints/auth';\r\nimport comics from './api/endpoints/comics';\r\n\r\nconst __endpointDefns = {\r\n    auth,\r\n    comics\r\n};\r\n\r\nclass AlbaVulpesApiClass {\r\n    protected readonly _adapter: AxiosInstance;\r\n\r\n    constructor(options?: AxiosRequestConfig) {\r\n        this._adapter = axios.create(options);\r\n\r\n        this.createEndpointInstances();\r\n    }\r\n\r\n    private createEndpointInstances() {\r\n        for (let endpointName in __endpointDefns) {\r\n            Object.defineProperty(this, endpointName, {\r\n                get() {\r\n                    return new this._endpoints[endpointName](this._adapter);\r\n                }\r\n            });\r\n        }\r\n    }\r\n}\r\n\r\n// The typing magic here is to tell TypeScript that this class is internally going to have all the endpoints.\r\ntype EndpointsMap = typeof __endpointDefns;\r\ntype EndpointInstancesMap = {\r\n    [K in keyof EndpointsMap]: InstanceType<EndpointsMap[K]>;\r\n}\r\nexport type AlbaVulpesApi = new(options?: AxiosRequestConfig) => EndpointInstancesMap & AlbaVulpesApiClass;\r\n\r\nexport const AlbaVulpesApi: AlbaVulpesApi = AlbaVulpesApiClass as any;\r\n"]}